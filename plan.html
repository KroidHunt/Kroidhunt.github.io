<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interview Prep Dashboard</title>

<style>
/* =========================
   SHADCN DESIGN TOKENS
========================= */
:root {
  --background: #0b0b0c;
  --foreground: #e5e7eb;
  --card: #111113;
  --border: #1f1f23;
  --muted: #9ca3af;
  --primary: #3b82f6;
  --success: #22c55e;
  --warning: #facc15;
  --radius: 14px;
}

[data-theme="light"] {
  --background: #f9fafb;
  --foreground: #111827;
  --card: #ffffff;
  --border: #e5e7eb;
  --muted: #6b7280;
  --primary: #2563eb;
}

/* =========================
   BASE
========================= */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui;
  background: var(--background);
  color: var(--foreground);
}

.container {
  max-width: 480px;
  margin: 0 auto;
  padding: 16px 14px 96px;
}

/* =========================
   SHADCN-LIKE COMPONENTS
========================= */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px;
  margin-bottom: 14px;
}

.button {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--foreground);
  border-radius: 10px;
  padding: 6px 12px;
  cursor: pointer;
}

.badge {
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 999px;
}

.progress {
  height: 8px;
  background: #ffffff22;
  border-radius: 999px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--primary);
  width: 0%;
  transition: width 0.3s ease;
}

.muted {
  color: var(--muted);
  font-size: 12px;
}

/* =========================
   HEADER
========================= */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

/* =========================
   TIMELINE
========================= */
.timeline {
  position: relative;
  padding-left: 18px;
}

.timeline::before {
  content: "";
  position: absolute;
  left: 6px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--border);
}

.task {
  position: relative;
  padding: 12px 0 12px 12px;
}

.dot {
  position: absolute;
  left: -1px;
  top: 18px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--border);
}

.task.completed .dot { background: var(--success); }
.task.today .dot { background: var(--warning); }

.task label {
  cursor: pointer;
}

.task.completed label {
  text-decoration: line-through;
  color: var(--success);
}

/* =========================
   TROPHIES
========================= */
.trophy {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  padding: 8px 0;
}

.trophy.locked {
  opacity: 0.4;
}
</style>
</head>

<body>
<div class="container">

<header>
  <h2>Interview Prep</h2>
  <button class="button" id="themeToggle">Theme</button>
</header>

<!-- XP / LEVEL -->
<div class="card">
  <div style="display:flex;justify-content:space-between">
    <div>Level <strong id="level">1</strong></div>
    <div><strong id="xp">0</strong> XP</div>
  </div>
  <div class="progress" style="margin-top:8px">
    <div class="progress-fill" id="xpBar"></div>
  </div>
  <div class="muted" style="margin-top:6px">
    10 XP per task Â· Trophies unlock automatically
  </div>
</div>

<!-- TROPHIES -->
<div class="card">
  <strong>Trophies</strong>
  <div id="trophies"></div>
</div>

<!-- TASKS -->
<div class="card timeline" id="tasks"></div>

</div>

<script>
/* =========================
   DATA
========================= */
const STORAGE = "prep-dashboard-v4";
const THEME = "prep-theme";
const startDate = new Date("2026-01-15");

const tasks = [
  "React re-render reasoning",
  "Memoization trade-offs",
  "Controlled vs uncontrolled",
  "Error boundaries",
  "JS event loop",
  "Closures",
  "Type-safe configs",
  "Resume first draft",
  "Large data dashboards",
  "Caching strategies",
  "Permissions UI",
  "Config-driven UI",
  "Performance trade-offs",
  "API pagination",
  "Auth flows",
  "AI usage story",
  "System design mock",
  "Behavioral mock",
  "Applications",
  "Offer negotiation"
];

const trophiesDef = [
  { id: "first", label: "ðŸ First Task Completed", check: c => c >= 1 },
  { id: "five", label: "ðŸ”¥ 5 Tasks Done", check: c => c >= 5 },
  { id: "ten", label: "ðŸš€ 10 Tasks Done", check: c => c >= 10 },
  { id: "ai", label: "ðŸ¤– AI Ready", check: (_, s) => s["t15"] },
  { id: "ready", label: "ðŸ† Interview Ready", check: c => c === tasks.length }
];

/* =========================
   STATE
========================= */
const state = JSON.parse(localStorage.getItem(STORAGE)) || {};

function save() {
  localStorage.setItem(STORAGE, JSON.stringify(state));
}

/* =========================
   HELPERS
========================= */
function taskDate(i) {
  const d = new Date(startDate);
  d.setDate(d.getDate() + i);
  return d;
}

function status(d) {
  const diff = Math.floor((new Date() - d) / 86400000);
  if (diff === 0) return "today";
  if (diff > 0) return "past";
  return "future";
}

/* =========================
   RENDER
========================= */
function render() {
  const taskEl = document.getElementById("tasks");
  taskEl.innerHTML = "";

  let completed = 0;

  tasks.forEach((text, i) => {
    const id = "t" + i;
    const checked = !!state[id];
    if (checked) completed++;

    const d = taskDate(i);
    const s = status(d);

    const el = document.createElement("div");
    el.className = `task ${checked ? "completed" : ""} ${s === "today" ? "today" : ""}`;

    el.innerHTML = `
      <div class="dot"></div>
      <input type="checkbox" ${checked ? "checked" : ""} />
      <label>${text}</label>
      <div class="muted">${d.toDateString()}</div>
    `;

    el.querySelector("input").onchange = e => {
      state[id] = e.target.checked;
      save();
      render();
    };

    taskEl.appendChild(el);
  });

  // XP
  const xp = completed * 10;
  const level = Math.floor(xp / 100) + 1;
  document.getElementById("xp").textContent = xp;
  document.getElementById("level").textContent = level;
  document.getElementById("xpBar").style.width = (xp % 100) + "%";

  // Trophies
  const trophyEl = document.getElementById("trophies");
  trophyEl.innerHTML = "";
  trophiesDef.forEach(t => {
    const unlocked = t.check(completed, state);
    const div = document.createElement("div");
    div.className = "trophy" + (unlocked ? "" : " locked");
    div.textContent = t.label;
    trophyEl.appendChild(div);
  });
}

/* =========================
   THEME
========================= */
document.documentElement.dataset.theme =
  localStorage.getItem(THEME) || "dark";

document.getElementById("themeToggle").onclick = () => {
  const next =
    document.documentElement.dataset.theme === "dark" ? "light" : "dark";
  document.documentElement.dataset.theme = next;
  localStorage.setItem(THEME, next);
};

render();
</script>
</body>
</html>
