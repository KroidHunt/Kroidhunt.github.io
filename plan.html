<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interview Prep Dashboard</title>

<style>
/* ======================
   COLOR & THEME TOKENS
====================== */
:root {
  --bg: radial-gradient(circle at top, #0f172a, #020617);
  --card-bg: rgba(255,255,255,0.06);
  --border: rgba(255,255,255,0.12);
  --text: #e5e7eb;
  --muted: #94a3b8;
  --primary: linear-gradient(135deg, #38bdf8, #6366f1);
  --success: #22c55e;
  --warning: #facc15;
  --glass: blur(14px);
}

[data-theme="light"] {
  --bg: radial-gradient(circle at top, #eef2ff, #ffffff);
  --card-bg: rgba(255,255,255,0.75);
  --border: rgba(15,23,42,0.12);
  --text: #020617;
  --muted: #475569;
}

/* ======================
   BASE
====================== */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui;
  background: var(--bg);
  color: var(--text);
}

.container {
  max-width: 480px;
  margin: auto;
  padding: 16px 14px 96px;
}

/* ======================
   HEADER
====================== */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

h1 {
  font-size: 20px;
  margin: 0;
}

button {
  background: var(--card-bg);
  border: 1px solid var(--border);
  backdrop-filter: var(--glass);
  color: var(--text);
  padding: 6px 12px;
  border-radius: 999px;
}

/* ======================
   CARDS
====================== */
.card {
  background: var(--card-bg);
  backdrop-filter: var(--glass);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

/* ======================
   XP / LEVEL
====================== */
.level {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.progress {
  height: 10px;
  background: rgba(255,255,255,0.15);
  border-radius: 999px;
  overflow: hidden;
  margin-top: 10px;
}

.progress-fill {
  height: 100%;
  background: var(--primary);
  width: 0%;
  transition: width 0.4s ease;
}

/* ======================
   TROPHIES
====================== */
.trophy {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 0;
  font-size: 14px;
}

.trophy.locked {
  opacity: 0.35;
}

.trophy.unlocked {
  animation: pop 0.4s ease;
}

@keyframes pop {
  0% { transform: scale(0.9); }
  100% { transform: scale(1); }
}

/* ======================
   TIMELINE
====================== */
.timeline {
  position: relative;
  padding-left: 22px;
}

.timeline::before {
  content: "";
  position: absolute;
  left: 9px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--border);
}

.task {
  position: relative;
  padding: 14px 0 14px 14px;
}

.dot {
  position: absolute;
  left: 2px;
  top: 22px;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: rgba(255,255,255,0.25);
}

.task.today .dot {
  background: var(--warning);
  box-shadow: 0 0 0 6px rgba(250,204,21,0.25);
}

.task.completed .dot {
  background: var(--success);
}

.task label {
  font-size: 15px;
}

.task.completed label {
  text-decoration: line-through;
  color: var(--success);
}

.muted {
  font-size: 12px;
  color: var(--muted);
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>Interview Prep</h1>
  <button id="themeToggle">Theme</button>
</header>

<!-- LEVEL -->
<div class="card">
  <div class="level">
    <div>Level <strong id="level">1</strong></div>
    <div><strong id="xp">0</strong> XP</div>
  </div>
  <div class="progress">
    <div class="progress-fill" id="xpBar"></div>
  </div>
  <div class="muted" style="margin-top:8px">
    Complete tasks to unlock trophies
  </div>
</div>

<!-- TROPHIES -->
<div class="card">
  <strong>Trophies</strong>
  <div id="trophies"></div>
</div>

<!-- TASKS -->
<div class="card timeline" id="tasks"></div>

</div>

<script>
const STORAGE = "prep-dashboard-v5";
const THEME = "prep-theme";
const startDate = new Date("2026-01-15");

const tasks = [
  "React re-render reasoning",
  "Memoization trade-offs",
  "Controlled vs uncontrolled",
  "Error boundaries",
  "JS event loop",
  "Closures",
  "Type-safe configs",
  "Resume first draft",
  "System design dashboard",
  "Caching strategies",
  "Permissions UI",
  "Config-driven UI",
  "Performance trade-offs",
  "API pagination",
  "Auth flows",
  "AI usage story",
  "System design mock",
  "Behavioral mock",
  "Applications",
  "Offer negotiation"
];

const trophies = [
  { label: "ðŸ First Step", at: 1 },
  { label: "ðŸ”¥ Momentum", at: 5 },
  { label: "ðŸš€ Consistency", at: 10 },
  { label: "ðŸ¤– AI Ready", at: 16 },
  { label: "ðŸ† Interview Ready", at: tasks.length }
];

const state = JSON.parse(localStorage.getItem(STORAGE)) || {};

function save() {
  localStorage.setItem(STORAGE, JSON.stringify(state));
}

function render() {
  const taskEl = document.getElementById("tasks");
  taskEl.innerHTML = "";

  let completed = 0;

  tasks.forEach((text, i) => {
    const id = "t" + i;
    const done = !!state[id];
    if (done) completed++;

    const date = new Date(startDate);
    date.setDate(date.getDate() + i);

    const diff = Math.floor((new Date() - date) / 86400000);
    const today = diff === 0;

    const el = document.createElement("div");
    el.className = `task ${done ? "completed" : ""} ${today ? "today" : ""}`;

    el.innerHTML = `
      <div class="dot"></div>
      <input type="checkbox" ${done ? "checked" : ""} />
      <label>${text}</label>
      <div class="muted">${date.toDateString()}</div>
    `;

    el.querySelector("input").onchange = e => {
      state[id] = e.target.checked;
      save();
      render();
    };

    taskEl.appendChild(el);
  });

  // XP
  const xp = completed * 10;
  const level = Math.floor(xp / 100) + 1;
  document.getElementById("xp").textContent = xp;
  document.getElementById("level").textContent = level;
  document.getElementById("xpBar").style.width = (xp % 100) + "%";

  // Trophies
  const tEl = document.getElementById("trophies");
  tEl.innerHTML = "";
  trophies.forEach(t => {
    const unlocked = completed >= t.at;
    const div = document.createElement("div");
    div.className = "trophy " + (unlocked ? "unlocked" : "locked");
    div.textContent = t.label;
    tEl.appendChild(div);
  });
}

// Theme
document.documentElement.dataset.theme =
  localStorage.getItem(THEME) || "dark";

document.getElementById("themeToggle").onclick = () => {
  const next =
    document.documentElement.dataset.theme === "dark" ? "light" : "dark";
  document.documentElement.dataset.theme = next;
  localStorage.setItem(THEME, next);
};

render();
</script>
</body>
</html>
