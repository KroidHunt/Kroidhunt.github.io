<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interview Prep Mission HUD</title>

<style>
:root {
  --bg: #020617;
  --card: rgba(15,23,42,0.9);
  --border: rgba(148,163,184,0.18);
  --text: #e5e7eb;
  --muted: #94a3b8;

  --frontend: #38bdf8;
  --system: #a78bfa;
  --js: #facc15;
  --ai: #22c55e;
  --boss: #f43f5e;

  --radius: 18px;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui;
  background: radial-gradient(circle at top, #020617, #000);
  color: var(--text);
}

.container {
  max-width: 480px;
  margin: auto;
  padding: 16px 14px 120px;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

h1 {
  font-size: 20px;
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.6);
}

.progress {
  height: 10px;
  background: rgba(255,255,255,0.12);
  border-radius: 999px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #38bdf8, #818cf8);
  width: 0%;
  transition: width 0.4s ease;
}

.mission {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px;
  margin-bottom: 14px;
  background: rgba(255,255,255,0.04);
}

.mission.completed {
  opacity: 0.5;
}

.mission-title {
  font-weight: 600;
  font-size: 15px;
}

.badge {
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 999px;
}

.frontend { background: rgba(56,189,248,0.2); }
.system { background: rgba(167,139,250,0.2); }
.js { background: rgba(250,204,21,0.2); }
.ai { background: rgba(34,197,94,0.2); }
.boss { background: rgba(244,63,94,0.25); }

.mission-body {
  font-size: 13px;
  margin-top: 8px;
  color: #cbd5f5;
}

.proof {
  font-size: 12px;
  margin-top: 6px;
  color: var(--muted);
  font-style: italic;
}

.actions {
  margin-top: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

button {
  background: none;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 6px 12px;
  color: var(--text);
}

button:disabled {
  opacity: 0.4;
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>Interview Prep Missions</h1>
</header>

<div class="card">
  <div style="display:flex;justify-content:space-between">
    <div>Level <strong id="level">1</strong></div>
    <div><strong id="xp">0</strong> XP</div>
  </div>
  <div class="progress" style="margin-top:8px">
    <div class="progress-fill" id="xpFill"></div>
  </div>
</div>

<div id="missions"></div>

</div>

<script>
const STORAGE = "mission-hud-v1";

const missions = [
  {
    id: "react-rerender",
    title: "Stop Unnecessary Re-renders",
    objective: "Explain when and why React components re-render.",
    proof: "Verbally explain 3 causes and 2 fixes without notes.",
    xp: 15,
    category: "frontend"
  },
  {
    id: "state-ownership",
    title: "Own Your State",
    objective: "Decide where state should live and justify it.",
    proof: "Explain 2 examples of colocation vs lifting state.",
    xp: 15,
    category: "frontend"
  },
  {
    id: "event-loop",
    title: "Event Loop Clarity",
    objective: "Explain async execution confidently.",
    proof: "Explain microtasks vs macrotasks without diagrams.",
    xp: 15,
    category: "js"
  },
  {
    id: "dashboard-design",
    title: "Design a 1M Row Dashboard",
    objective: "Design a scalable frontend architecture.",
    proof: "Explain virtualization, pagination, and caching trade-offs.",
    xp: 25,
    category: "system"
  },
  {
    id: "ai-story",
    title: "AI Readiness",
    objective: "Explain how you use AI responsibly.",
    proof: "Explain where you trust AI and where you donâ€™t.",
    xp: 20,
    category: "ai"
  },
  {
    id: "boss-core",
    title: "BOSS: Frontend Core Mastery",
    objective: "Prove core frontend readiness.",
    proof: "Explain all frontend missions end-to-end without gaps.",
    xp: 50,
    category: "boss",
    requires: ["react-rerender", "state-ownership", "event-loop"]
  }
];

const state = JSON.parse(localStorage.getItem(STORAGE)) || {};

function save() {
  localStorage.setItem(STORAGE, JSON.stringify(state));
}

function canComplete(mission) {
  if (!mission.requires) return true;
  return mission.requires.every(id => state[id]);
}

function render() {
  const el = document.getElementById("missions");
  el.innerHTML = "";

  let totalXP = 0;

  missions.forEach(m => {
    if (state[m.id]) totalXP += m.xp;

    const div = document.createElement("div");
    div.className = "mission" + (state[m.id] ? " completed" : "");

    div.innerHTML = `
      <div class="mission-title">${m.title}</div>
      <span class="badge ${m.category}">${m.category.toUpperCase()}</span>
      <div class="mission-body">${m.objective}</div>
      <div class="proof">Proof: ${m.proof}</div>
      <div class="actions">
        <span>+${m.xp} XP</span>
        <button ${state[m.id] ? "disabled" : ""}>
          ${state[m.id] ? "Completed" : "Mark Complete"}
        </button>
      </div>
    `;

    const btn = div.querySelector("button");
    btn.onclick = () => {
      if (!canComplete(m)) {
        alert("Complete prerequisite missions first.");
        return;
      }
      state[m.id] = true;
      save();
      render();
    };

    el.appendChild(div);
  });

  document.getElementById("xp").textContent = totalXP;
  document.getElementById("level").textContent = Math.floor(totalXP / 50) + 1;
  document.getElementById("xpFill").style.width = (totalXP % 50) * 2 + "%";
}

render();
</script>
</body>
</html>
